<html>
<head>
    <title>Buying | WOC Example</title>
    <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
    <script src="/js/main.js"></script>
</head>

<body>
    <h1>Wall of Coins Buying Example</h1>
    <blockquote>
        <p>
            This area illustrates the API calls to buy coins from Wall of 
            Coins. The HTML is simply an example View; your application will
            replace this View, while the Javascript object &quot;Woc.Buy&quot;
            provides a working example to interact with the WOC API.
        </p>

        <p>
            A work-flow diagram chart is available for certain processes. The
            first chart illustrates the overall process:
            <a href="/img/overall-buying-process.png" target="_blank">Overall
            Buying Process</a>
        </p>
    </blockquote>

    <h2>Step 0: API credentials</h2>
    <blockquote>
        <p>
        API credentials are not required; however, API credentials will credit
        you for any coin purchases made through your application's Wall of 
        Coins integration.
        </p>

        <p>
            API Endpoint: <input id="apiUrl" type="text" value="http://dev.geni.to:8000" />
                <br/>
            The base URL of the API.
        </p>

        <p>
            Publisher ID: <input id="publisherId" type="text" />
                <br/>
            This is also known as the "API User". Another acceptable value is
            a bitcoin address. (should the only acceptable value be a bitcoin
            referral address?)
        </p>
    </blockquote>

    <h2>Step 1: Collect User Input</h2>
    <blockquote>
        <p>User Bitcoin Address: <input id="bitcoinAddress" type="text" /></p>
        <p>
            <select id="currency">
                <option value="USD" selected="selected">$</option>
            </select>
            <input id="usdAmount" type="tel" value="5" />
        </p>
    </blockquote>

    <h2>Step 2: Location Input</h2>
    <blockquote>
        <p>
            Only one of the following location ("destination") pieces of
            information are required.
        </p>

        <p>
            Geo-coordinates:
            <input id="geolocation" type="text" value="(waiting on permission)"
                readonly="readonly" />
            <br/>
            Geo-coordinates of location: required unless the zip/postal code or
            bank destination are specified.
        </p>

        <p>
            Zip Code:
            <input id="zipCode" type="tel" value="" />
        </p>

        <p>
            Deposit Destination (Bank):
            <select id="banks" style="display:none;">
            </select>

            <button id="queryBanksBtn">Query Banks</button>
                <br/>
            You must click "Query Banks" to get a list of banks from the API.
        </p>
    </blockquote>

    <h2>Step 3: Submit Results to Discover Purchase Options</h2>
    <blockquote>
        <p>
            <button id="discoverBtn">Discover Purchase Options</button>
        </p>
    </blockquote>

    <h2>Step 4: Collect User's Purchase Choice</h2>
    <blockquote>
        <div id="offersNeededCtn">
            <p>(First: you need purchase options from the API's discovered
                results.)</p>
        </div>

        <div id="offersCtn" style="display:none;">
            <p>Discovering results...</p>
        </div>

        <div id="offerResultActions" style="display:none;">
            <p><button id="nextStepBtn" value="">Next Step...</button></p>
        </div>
    </blockquote>

    <div id="authStep" style="display:none;">
        <h2>Step 5: Check If User is Authorized</h2>
        <blockquote>

        <p><strong>WAIT!</strong> When you <i>actually</i> place a hold on
            the order, you need to include the end user's phone number and
            device identification. The end-users phone number is stored
            <i>only</i> with Wall of Coins and in your software data set. Wall
            of Coins only uses the phone number as a point of emergency contact
            or customer support. If you do not already have this information,
            prompt the user for their phone number.
            </p>

        <p>
            User Phone #:
            <select id="countryCode">
                <option value="+1" selected="selected">+1</option>
            </select>
            <input id="userPhone" type="tel" value="" />
        </p>

        <p>
            Device ID:
            <input id="deviceId" type="text" value="" />
                <br/>
            This should be a globally unique identifier. The user does not know
            this, nor do they supply it; it is generated by your application.
        </p>

        <p>
            Email:
            <input id="email" type="text" value="" />
                <br/>
            Email is <i>completely</i> optional. It is not required, and we
            currently do not have a use for user's email addresses. You may use
            this is you wish to coordinate communications (in the future) with
            the end user and Wall of Coins.
        </p>

        <p id="wocPasswordCtn" style="display:none;">
            <h3>User (Phone) Exists and Must Authorize</h3>

            Wall of Coins user password:
            <input id="wocPassword" type="password" value="" />
                <br/>
            When the user already has a Wall of Coins account, this is the
            point where they will learn that the application is integrating
            with Wall of Coins. Users will be thrilled that they can use your
            app directly with WOC! But we will experiment with asking the
            user for their WOC password.
        </p>

<!--
        <p>Use the <a href="authorization.html">Authorization</a> page to
            obtain an authentication token for the end user. If you already
            have an authorization token, pass it in the field below, and the
            API will let you know whether that token is still valid.</p>

        <p>Token: <input id="authToken" type="text" value="" /></p>
-->

        <p>
            <button id="holdOrderBtn">Hold Order</button>
            <button id="">You're now logged in: HOLD ORDER</button>
        </p>
        </blockquote>
    </div>

    <div id="captureHoldStep" style="display:none;">
        <h2>Step 6: Capture the Hold</h2>
        <blockquote>
        <p>
            In order to capture the hold, or finalize the hold, the end user
            must provide the SMS text code sent to their mobile phone.
        </p>

        <p>Verification code: <input id="textCode" type="text" value="" /></p>
        </blockquote>
    </div>

    <div id="instructionsCtn" style="display:none;">
        <h2>Step 7: Render Buying Instructions</h2>
    </div>

    <div id="finalStep" style="display:none;">
        <h2>Finally:</h2>
        <blockquote>
            <p>The user may now manage their Buy Order, or all of their Buy
                Orders. Use this page as reference:
                <a href="order-management.html">Order Management</a></p>
        </blockquote>
    </div>

<script>
    $(Woc.Buy.init);
</script>
</body>
</html>
